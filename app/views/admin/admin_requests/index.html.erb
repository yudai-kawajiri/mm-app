<%= content_for(:title, t('admin.admin_requests.index.title')) %>

<div class="container-fluid py-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h3"><%= t('admin.admin_requests.index.title') %></h1>
  </div>

  <% if @admin_requests.any? %>
    <div class="table-responsive">
      <table class="table table-hover">
        <thead>
          <tr>
            <th><%= t('admin.admin_requests.index.table_headers.user') %></th>
            <th><%= t('admin.admin_requests.index.table_headers.store') %></th>
            <th><%= t('admin.admin_requests.index.table_headers.request_type') %></th>
            <th><%= t('admin.admin_requests.index.table_headers.status') %></th>
            <th><%= t('admin.admin_requests.index.table_headers.created_at') %></th>
            <th><%= t('admin.admin_requests.index.table_headers.actions') %></th>
          </tr>
        </thead>
        <tbody>
          <% @admin_requests.each do |request| %>
            <tr>
              <td><%= request.user.name %></td>
              <td><%= request.store&.name || '-' %></td>
              <td><%= t("admin.admin_requests.request_type.#{request.request_type}") %></td>
              <td>
                <% if request.status_pending? %>
                  <span class="badge bg-warning"><%= t('admin.admin_requests.status.pending') %></span>
                <% elsif request.status_approved? %>
                  <span class="badge bg-success"><%= t('admin.admin_requests.status.approved') %></span>
                <% else %>
                  <span class="badge bg-danger"><%= t('admin.admin_requests.status.rejected') %></span>
                <% end %>
              </td>
              <td><%= l(request.created_at, format: :short) %></td>
              <td>
                <%= link_to t('common.show'), admin_admin_request_path(request), class: 'btn btn-sm btn-outline-primary' %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>

    <%= paginate @admin_requests, theme: 'bootstrap-5' %>
  <% else %>
    <div class="alert alert-info">
      <%= t('admin.admin_requests.index.no_requests') %>
    </div>
  <% end %>
</div>
