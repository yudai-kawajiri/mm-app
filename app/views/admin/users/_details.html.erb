<% if session[:generated_password] %>
<div class="alert alert-warning mb-4" role="alert">
  <h5 class="alert-heading">
    <i class="bi bi-key-fill"></i> <%= t('admin.users.show.generated_password.title') %>
  </h5>
  <hr>
  <p class="mb-0">
    <strong class="fs-4 text-danger"><%= session.delete(:generated_password) %></strong>
  </p>
  <small class="text-muted d-block mt-2">
    <%= t('admin.users.show.generated_password.note') %>
  </small>
</div>
<% end %>

<%# ユーザー詳細表示 %>
<% user = local_assigns[:user] || local_assigns[:resource] %>
<% user_class = user.class %>

<div class="pt-1">
  <div class="row">
    <div class="col-md-6">
      <div class="mb-3 border-bottom py-3">
        <label class="form-label mb-0 text-muted" style="font-size: 1.0em;">
          <%= user_class.human_attribute_name(:name) %>
        </label>
        <div class="text-dark text-center pt-2" style="font-size: 1.1em; font-weight: 500;">
          <%= user.name %>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="mb-3 border-bottom py-3">
        <label class="form-label mb-0 text-muted" style="font-size: 1.0em;">
          <%= user_class.human_attribute_name(:email) %>
        </label>
        <div class="text-dark text-center pt-2" style="font-size: 1.1em; font-weight: 500;">
          <%= user.email %>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="mb-3 border-bottom py-3">
        <label class="form-label mb-0 text-muted" style="font-size: 1.0em;">
          <%= user_class.human_attribute_name(:role) %>
        </label>
        <div class="text-dark text-center pt-2" style="font-size: 1.1em; font-weight: 500;">
          <% if user.super_admin? %>
            <span class="badge bg-danger">
              <%= t('admin.users.roles.super_admin') %>
            </span>
          <% elsif user.company_admin? %>
            <span class="badge bg-warning text-dark">
              <%= t('admin.users.roles.company_admin') %>
            </span>
          <% elsif user.store_admin? %>
            <span class="badge bg-info">
              <%= t('admin.users.roles.store_admin') %>
            </span>
          <% else %>
            <span class="badge bg-secondary">
              <%= t('admin.users.roles.general') %>
            </span>
          <% end %>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="mb-3 border-bottom py-3">
        <label class="form-label mb-0 text-muted" style="font-size: 1.0em;">
          <%= user_class.human_attribute_name(:tenant) %>
        </label>
        <div class="text-dark text-center pt-2" style="font-size: 1.1em; font-weight: 500;">
          <%= user.tenant&.name || t('common.not_set') %>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="mb-3 border-bottom py-3">
        <label class="form-label mb-0 text-muted" style="font-size: 1.0em;">
          <%= user_class.human_attribute_name(:store) %>
        </label>
        <div class="text-dark text-center pt-2" style="font-size: 1.1em; font-weight: 500;">
          <%= user.store&.name || t('common.not_set') %>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="mb-3 border-bottom py-3">
        <label class="form-label mb-0 text-muted" style="font-size: 1.0em;">
          <%= user_class.human_attribute_name(:created_at) %>
        </label>
        <div class="text-dark text-center pt-2" style="font-size: 1.1em; font-weight: 500;">
          <%= l(user.created_at, format: :long) %>
        </div>
      </div>
    </div>
  </div>
</div>
