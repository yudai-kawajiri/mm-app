<% content_for :title, t('application_requests.new.title') %>

<%= render layout: 'devise/shared/auth_card_frame' do %>
  <h2 class="text-center mb-4"><%= t('application_requests.new.heading') %></h2>

  <%= form_with model: @application_request, url: application_requests_path, 
                data: { turbo: false, controller: 'form-validation' } do |f| %>
    
    <%= render "devise/shared/error_messages", resource: @application_request %>

    <!-- 会社情報 -->
    <div class="mb-4 pb-3 border-bottom">
      <h5 class="text-muted mb-3"><%= t('application_requests.new.company_info') %></h5>
      
      <div class="form-floating mb-3">
        <%= f.text_field :company_name, 
                         class: "form-control", 
                         placeholder: t('application_requests.new.company_name_placeholder'),
                         autofocus: true %>
        <%= f.label :company_name, t('application_requests.new.company_name') %>
      </div>

      <div class="form-floating mb-3">
        <%= f.email_field :company_email, 
                          class: "form-control", 
                          placeholder: t('application_requests.new.company_email_placeholder') %>
        <%= f.label :company_email, t('application_requests.new.company_email') %>
      </div>

      <div class="form-floating mb-2">
        <%= f.telephone_field :company_phone, 
                              class: "form-control", 
                              placeholder: t('application_requests.new.company_phone_placeholder') %>
        <%= f.label :company_phone, t('application_requests.new.company_phone') %>
      </div>
      <small class="text-muted"><%= t('application_requests.new.optional_field') %></small>
    </div>

    <!-- 責任者情報 -->
    <div class="mb-4">
      <h5 class="text-muted mb-3"><%= t('application_requests.new.admin_info') %></h5>
      
      <div class="form-floating mb-3">
        <%= f.text_field :admin_name, 
                         class: "form-control", 
                         placeholder: t('application_requests.new.admin_name_placeholder') %>
        <%= f.label :admin_name, t('application_requests.new.admin_name') %>
      </div>

      <div class="form-floating mb-2">
        <%= f.email_field :admin_email, 
                          class: "form-control", 
                          placeholder: t('application_requests.new.admin_email_placeholder') %>
        <%= f.label :admin_email, t('application_requests.new.admin_email') %>
      </div>
      <small class="text-muted"><%= t('application_requests.new.admin_email_hint') %></small>
    </div>

    <!-- 送信ボタン -->
    <div class="d-grid">
      <%= f.submit t('application_requests.new.submit'), class: 'btn btn-primary btn-lg' %>
    </div>
  <% end %>

  <!-- 利用規約・プライバシーポリシーリンク -->
  <div class="mt-3 text-center small text-muted">
    <%= link_to t('common.terms'), terms_path, class: 'text-decoration-none' %> | 
    <%= link_to t('common.privacy'), privacy_path, class: 'text-decoration-none' %>
  </div>
<% end %>
