
<%# new, create, edit, update の共通フォーム %>
<%# material はローカル変数として受け取ることを想定 %>
<%= form_with(model: material, data: { turbo: false }) do |f| %>

  <%# エラーメッセージ表示 %>
  <%= render 'shared/error_messages', model: f.object %>

  <div class="card p-4 mb-4">
    <%# フォームの項目は1カラム縦積み %>

    <%# 原材料名 %>
    <div class="mb-3">
      <%= f.label :name, class: "form-label" %>
      <%= f.text_field :name, class: "form-control" %>
    </div>

    <%# 商品単位 %>
    <div class="mb-3">
      <%= f.label :unit_for_product, class: "form-label" %>
      <%= f.text_field :unit_for_product, class: "form-control" %>
    </div>

    <%# 商品単位あたりの重量 %>
    <div class="mb-3">
      <%= f.label :unit_weight_for_product, class: "form-label" %>
      <%= f.number_field :unit_weight_for_product, step: :any, class: "form-control" %>
    </div>

    <%# 発注単位 %>
    <div class="mb-3">
      <%= f.label :unit_for_order, class: "form-label" %>
      <%= f.text_field :unit_for_order, class: "form-control" %>
    </div>

    <%# 発注単位あたりの重量 %>
    <div class="mb-3">
      <%= f.label :unit_weight_for_order, class: "form-label" %>
      <%= f.number_field :unit_weight_for_order, step: :any, class: "form-control" %>
    </div>

    <%# カテゴリー %>
    <div class="mb-3">
      <%= f.label :category_id, class: "form-label" %>
      <%= f.collection_select :category_id, Category.all, :id, :name, { prompt: "選択してください" }, class: "form-select" %>
    </div>

    <%# フォームボタン (カードの内側に配置) %>
    <div class="actions mt-4">
      <%# ボタンテキストの切り替えは material.persisted? でOK %>
      <% button_text = material.persisted? ? t('helpers.submit.update') : t('helpers.submit.create') %>
      <%= f.submit button_text, class: "btn btn-success me-2" %>

      <%# 💡戻るリンクもt()で一貫性を保つ %>
      <%= link_to t('helpers.link.back'), materials_path, class: "btn btn-outline-secondary" %>
    </div>
  </div>
<% end %>