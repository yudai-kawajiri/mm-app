<%# app/views/plans/_plan_products_tabs.html.erb %>
<% product_categories = local_assigns[:product_categories] %>

<nav>
  <div class="nav nav-tabs" id="planProductTab" role="tablist">
    <%# すべて All%>
    <button class="nav-link active" id="all-tab" data-bs-toggle="tab" data-bs-target="#plan-product-all" type="button" role="tab" aria-controls="plan-product-all" aria-selected="true">
      <%= t('plans.product_fields.tabs_all', default: '全て') %>
    </button>

    <%# カテゴリ別のタブを動的に生成 %>
    <% (product_categories || []).each do |category| %>
      <button class="nav-link" id="<%= category.id %>-tab" data-bs-toggle="tab" data-bs-target="#plan-product-<%= category.id %>" type="button" role="tab" aria-controls="plan-product-<%= category.id %>" aria-selected="false">
        <%= category.name %>
      </button>
    <% end %>
  </div>
</nav>