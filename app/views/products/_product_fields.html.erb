<%# 1. è£½å“å %>
<div class="mb-3">
  <%= f.label :name, class: "form-label h5" %>
  <%= f.text_field :name, class: "form-control form-control-lg" %>
</div>

<%# 2. å“ç›®ç•ªå· %>
<div class="mb-3">
  <%= f.label :item_number, class: "form-label h5" %>
  <%= f.text_field :item_number, class: "form-control form-control-lg" %>
</div>

<%# 3. å£²ä¾¡ %>
<div class="mb-3">
  <%= f.label :price, class: "form-label h5" %>
  <div class="input-group input-group-lg">
    <span class="input-group-text"><%= t('number.currency.format.unit') %></span>
    <%= f.number_field :price, class: "form-control", step: 1, min: 0 %>
  </div>
</div>

<%# 4. ã‚«ãƒ†ã‚´ãƒª %>
<div class="mb-3">
  <%= f.label :category_id, class: "form-label h5" %>
  <%= f.collection_select :category_id, @product_categories,
    :id,
    :name,
    { prompt: t('helpers.prompt.select') },
    { class: "form-select form-select-lg" } %>
</div>

<%# 5. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ %>
<div class="mb-3">
  <%= f.label :status, class: "form-label h5" %>
  <%= f.select :status, Product.statuses.keys.map { |status| [t("activerecord.enums.product.status.#{status}"), status] },
    { prompt: t('helpers.prompt.select') },
    { class: "form-select form-select-lg" } %>
</div>

<%# 2. ä¸‹éƒ¨ã®å·¦å³åˆ†å‰²ã‚¨ãƒªã‚¢ (èª¬æ˜Žã¨ç”»åƒ)%>
<div class="row mt-3">

    <%# å·¦ã‚«ãƒ©ãƒ   èª¬æ˜Ž %>
    <div class="col-md-6">
        <div class="mb-3">
            <%= f.label :description, class: "form-label h5" %>
            <%= f.text_area :description, rows: 4, class: "form-control form-control-lg" %>
        </div>
    </div>

    <%# å³ã‚«ãƒ©ãƒ : ç”»åƒ %>
    <div class="col-md-6">
        <div class="mb-3">
            <%= f.label :image, class: "form-label" %>

            <%# æ—¢å­˜ã®ç”»åƒè¡¨ç¤ºã‚¨ãƒªã‚¢ã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ %>
            <div class="text-center mb-1" style="overflow: hidden;">
              <%= image_tag(f.object.image.attached? ? f.object.image : '', id: 'image-preview',
                style: "max-width: 100%; height: auto; #{f.object.image.attached? ? 'display: block;' : 'display: none;'}",
                class: "img-thumbnail mb-2 mx-auto", data: { existing_image: f.object.image.attached?.to_s }) %><%# ðŸ’¥ styleã® 200px ã‚’ 100% ã«å¤‰æ›´ ðŸ’¥ %>
            </div>

            <%# ãƒœã‚¿ãƒ³è¡¨ç¤º %>
            <div class="text-center mb-2 mt-1">
                <%# 1. æ—¢å­˜ç”»åƒå‰Šé™¤ãƒœã‚¿ãƒ³ %>
                <% if f.object.image.attached? %>
                    <div id="current-image-container-<%= f.object.id %>">
                        <%= link_to t('helpers.link.delete_image'), "#", data: { product_id: f.object.id, url: purge_image_product_path(f.object) }, class: "btn btn-sm btn-danger", id: "delete-button-#{f.object.id}" %>
                    </div>
                <% end %>

                <%# 2. æ–°è¦ç”»åƒé¸æŠžæ™‚ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³ %>
                <div id="new-image-action" style="display: none;">
                    <button type="button" id="cancel-new-image-button" class="btn btn-sm btn-outline-danger">
                        <%= t('helpers.link.cancel_new_image') %>
                    </button>
                </div>
            </div>

            <div class="mt-3">
                <%= f.file_field :image, id: 'product-image-input', class: "form-control" %>
                <small class="text-muted">
                  <%= f.object.image.attached? ? t('products.image_help.change') : t('products.image_help.select') %>
                </small>
            </div>
        </div>
    </div>
</div>