<% content_for(:title, t('products.new.title')) %>
<% title = t('.title') %>

<%= render 'shared/layouts/header_with_actions',
    title: title,
    resource: @product,
    is_form_page: true,
    is_index_page: false,
    is_show_page: false
%>

<%= form_with model: @product, html: { multipart: true, id: 'product_form' }, data: { controller: 'form-submit' } do |f| %>

  <%= render 'shared/resource_two_column_form',
    f: f,
    basic_fields: 'products/product_fields',
    detail_fields: 'products/product_materials_fields',
    resource_name: 'products',
    custom_right_title: t('forms.titles.product_material')
  %>

  <!-- Hidden submit button for header action -->
  <% submit_text = f.object.persisted? ? t('helpers.submit.update') : t('helpers.submit.create') %>
  <%= f.submit submit_text, id: 'product_submit_button', style: 'display: none;' %>

<% end %>