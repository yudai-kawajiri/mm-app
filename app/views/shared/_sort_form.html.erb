<%# ソート選択フォーム %>
<%= form_with url: url, method: :get, local: true, class: 'd-inline-block me-3' do |f| %>
  <%= f.select :sort_by,
        options_for_select([[local_assigns[:sort_placeholder] || t('common.sort_placeholder'), '']] + sort_options, params[:sort_by]),
        {},
        class: 'form-select',
        style: 'width: auto;',
        onchange: 'if(this.value) this.form.submit()' %>
  <% if local_assigns[:preserve_params].present? %>
    <% preserve_params.each do |param_key| %>
      <%= f.hidden_field param_key, value: params[param_key] if params[param_key].present? %>
    <% end %>
  <% end %>
<% end %>
