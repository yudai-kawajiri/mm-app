<%# 必須引数: f , resource %>
<% f = local_assigns[:f] %>
<% resource = local_assigns[:resource] %>

<%# オプション引数: back_url %>
<% back_url = local_assigns.fetch(:back_url, nil) %>

<%# 戻るリンクのURLを決定 %>
<% if resource.persisted? %>
  <%# 編集画面: 詳細に戻る %>
  <% final_back_url = back_url.presence || resource %>
<% else %>
  <%# 新規作成画面: 一覧に戻る %>
  <% resource_list_path = send(resource.class.model_name.route_key + '_path') %>
  <% final_back_url = back_url.presence || resource_list_path %>
<% end %>

<div class="d-flex justify-content-end gap-2">
    <%# キャンセルボタン（左） %>
    <%= render 'shared/actions/cancel_link', url: final_back_url %>

    <%# 登録/更新ボタン（右） %>
    <%= render 'shared/actions/submit_button', f: f, resource: resource %>
</div>
