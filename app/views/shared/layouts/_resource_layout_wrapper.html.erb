<%# リソース2カラムフォームラッパー %>
<%#
  機能:
  - 2カラムレイアウト専用フォームラッパー
  - 基本情報と詳細情報を左右に分けて表示

  必須引数:
  - resource: フォーム対象のモデルインスタンス
  - form_title: ページタイトル
  - basic_fields: 左カラムのフィールドパーシャル名
  - detail_fields: 右カラムのフィールドパーシャル名

  オプション引数:
  - custom_right_title: 右カラムのタイトル (デフォルト: なし)

  Stimulusコントローラー:
  - form-submit: フォーム送信制御
%>
<div class="container mt-4">
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
      <h2 class="mb-0"><%= form_title %></h2>
    </div>

    <div class="card-body">
      <%= render 'shared/forms/error_messages', resource: resource %>

      <%= form_with(model: resource, local: true, data: { controller: 'form-submit' }) do |f| %>
        <%= render 'shared/layouts/resource_layout_wrapper',
          f: f,
          basic_fields: basic_fields,
          detail_fields: detail_fields,
          content_left_title: nil,
          content_right_title: custom_right_title
        %>

        <div class="mt-4">
          <%= render 'shared/actions/form_action_links', f: f, resource: resource %>
        </div>
      <% end %>
    </div>
  </div>
</div>
